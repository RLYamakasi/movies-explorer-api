{"ast":null,"code":"export default class MoviesApi {\n  constructor(options) {\n    this.getMovies = () => {\n      return fetch(`${this._baseUrl}`, {\n        method: `GET`,\n        headers: this._headers\n      }).then(res => this._getResponseData(res));\n    };\n    this.addToFavorite = () => {\n      return fetch(`${this._baseUrl}`, {\n        method: `POST`,\n        headers: this._headers\n      }).then(res => this._getResponseData(res));\n    };\n    this._baseUrl = options.baseUrl;\n    this._headers = options.headers;\n  }\n  _getResponseData(res) {\n    if (!res.ok) {\n      return Promise.reject(`Ошибка: ${res.status}`);\n    }\n    return res.json();\n  }\n}\nexport const apiMovie = new MoviesApi({\n  baseUrl: \" https://api.nomoreparties.co/beatfilm-movies\",\n  headers: {\n    \"Content-Type\": \"application/json\"\n  }\n});","map":{"version":3,"names":["MoviesApi","constructor","options","getMovies","fetch","_baseUrl","method","headers","_headers","then","res","_getResponseData","addToFavorite","baseUrl","ok","Promise","reject","status","json","apiMovie"],"sources":["D:/dev/movies/frontend/src/utils/MoviesApi.js"],"sourcesContent":["export default class MoviesApi {\r\n  constructor(options) {\r\n    this._baseUrl = options.baseUrl;\r\n    this._headers = options.headers;\r\n  }\r\n\r\n  _getResponseData(res) {\r\n    if (!res.ok) {\r\n      return Promise.reject(`Ошибка: ${res.status}`);\r\n    }\r\n    return res.json();\r\n  }\r\n\r\n  getMovies = () => {\r\n    return fetch(`${this._baseUrl}`, {\r\n      method: `GET`,\r\n      headers: this._headers,\r\n    }).then((res) => this._getResponseData(res));\r\n  };\r\n\r\n  addToFavorite = () => {\r\n    return fetch(`${this._baseUrl}`, {\r\n      method: `POST`,\r\n      headers: this._headers,\r\n    }).then((res) => this._getResponseData(res));\r\n  };\r\n}\r\n\r\nexport const apiMovie = new MoviesApi({\r\n  baseUrl: \" https://api.nomoreparties.co/beatfilm-movies\",\r\n  headers: {\r\n    \"Content-Type\": \"application/json\",\r\n  },\r\n});\r\n"],"mappings":"AAAA,eAAe,MAAMA,SAAS,CAAC;EAC7BC,WAAW,CAACC,OAAO,EAAE;IAAA,KAYrBC,SAAS,GAAG,MAAM;MAChB,OAAOC,KAAK,CAAE,GAAE,IAAI,CAACC,QAAS,EAAC,EAAE;QAC/BC,MAAM,EAAG,KAAI;QACbC,OAAO,EAAE,IAAI,CAACC;MAChB,CAAC,CAAC,CAACC,IAAI,CAAEC,GAAG,IAAK,IAAI,CAACC,gBAAgB,CAACD,GAAG,CAAC,CAAC;IAC9C,CAAC;IAAA,KAEDE,aAAa,GAAG,MAAM;MACpB,OAAOR,KAAK,CAAE,GAAE,IAAI,CAACC,QAAS,EAAC,EAAE;QAC/BC,MAAM,EAAG,MAAK;QACdC,OAAO,EAAE,IAAI,CAACC;MAChB,CAAC,CAAC,CAACC,IAAI,CAAEC,GAAG,IAAK,IAAI,CAACC,gBAAgB,CAACD,GAAG,CAAC,CAAC;IAC9C,CAAC;IAvBC,IAAI,CAACL,QAAQ,GAAGH,OAAO,CAACW,OAAO;IAC/B,IAAI,CAACL,QAAQ,GAAGN,OAAO,CAACK,OAAO;EACjC;EAEAI,gBAAgB,CAACD,GAAG,EAAE;IACpB,IAAI,CAACA,GAAG,CAACI,EAAE,EAAE;MACX,OAAOC,OAAO,CAACC,MAAM,CAAE,WAAUN,GAAG,CAACO,MAAO,EAAC,CAAC;IAChD;IACA,OAAOP,GAAG,CAACQ,IAAI,EAAE;EACnB;AAeF;AAEA,OAAO,MAAMC,QAAQ,GAAG,IAAInB,SAAS,CAAC;EACpCa,OAAO,EAAE,+CAA+C;EACxDN,OAAO,EAAE;IACP,cAAc,EAAE;EAClB;AACF,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}